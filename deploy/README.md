# üöÄ AutoNumberGame Deployment

## üö® –í–ê–ñ–ù–û: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–±—Ä–∞–Ω—ã –∏–∑ –∫–æ–¥–∞!** –î–∞–∂–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `deploy.env`, –∫–æ—Ç–æ—Ä—ã–π:
- ‚ùå **–ù–ï** –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è Git (–¥–æ–±–∞–≤–ª–µ–Ω –≤ .gitignore)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–∏—Ç–∞–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–∞–º–∏
- üîí –°–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

## üëã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Windows Server 2022 (–∏–ª–∏ Windows 10/11)
- WSL2 —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º Ubuntu –∏ Docker
- GitHub Personal Access Token —Å –ø—Ä–∞–≤–∞–º–∏ `read:packages`
- Telegram Bot Token

**–í–∞–∂–Ω–æ:** Telegram –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ long polling –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤ –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞!

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ deploy.env

1. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `deploy.env`** –≤ –ø–∞–ø–∫–µ `deploy/`:
   ```bash
   # –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ –≤—ã—à–µ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª
   cp deploy.env.example deploy.env
   ```

2. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**:
   ```bash
   # GitHub –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
   GITHUB_USERNAME=–≤–∞—à_github_username
   GITHUB_TOKEN=ghp_xxxxxxxxxxxxxx

   # Telegram Bot –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
   TELEGRAM_BOT_TOKEN=–≤–∞—à_telegram_bot_token
   BOT_USERNAME=–≤–∞—à_bot_username

   # –ò –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã...
   ```

### 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ GitHub

1. –°–æ–∑–¥–∞–π—Ç–µ Personal Access Token:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ GitHub ‚Üí Settings ‚Üí Developer settings ‚Üí Personal access tokens ‚Üí Tokens (classic)
   - –ù–∞–∂–º–∏—Ç–µ "Generate new token (classic)"
   - –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∞: `read:packages` (–¥–ª—è —á—Ç–µ–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤ –∏–∑ GitHub Container Registry)
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω

2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ CI/CD –Ω–∞—Å—Ç—Ä–æ–µ–Ω:
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `.github/workflows/ci.yml`
   - –ü—Ä–∏ push –≤ main –≤–µ—Ç–∫—É –æ–±—Ä–∞–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –≤ `ghcr.io/yourusername/autonumbergame`

### 3. –ó–∞–ø—É—Å–∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

```powershell
# –û—Ç–∫—Ä–æ–π—Ç–µ PowerShell –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
cd C:\dev\AutoNumberGame\deploy

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
.\DeployToExistingWSL.ps1      # –î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ WSL —Å Docker
# –∏–ª–∏
.\WindowsDeployAutoNumberGame.ps1  # –î–ª—è –ø–æ–ª–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏
```

## üîí –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. **–ò—â—É—Ç —Ñ–∞–π–ª `deploy.env`** –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ
2. **–ß–∏—Ç–∞—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –∏–∑ —Ñ–∞–π–ª–∞
3. **–ò—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è** –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–∞–π–¥–µ–Ω
4. **–ü–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ** –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω

### –ü—Ä–∏–º–µ—Ä deploy.env
```bash
# GitHub –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
GITHUB_USERNAME=–º–æ–π_github_–∞–∫–∫–∞—É–Ω—Ç
GITHUB_TOKEN=ghp_abcd1234efgh5678

# Telegram Bot –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
BOT_USERNAME=MyAwesomeBot

# Windows –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
WINDOWS_USERNAME=Administrator
WINDOWS_PASSWORD=StrongPassword123!

# Ubuntu –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
UBUNTU_USERNAME=ubuntuuser
UBUNTU_PASSWORD=SecurePass456@

# –°–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
EXTERNAL_IP=192.168.1.100
APP_PORT=3333

# WSL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
WSL_DISTRO_NAME=UbuntuAutoNumber
EXISTING_WSL_DISTRO_NAME=UbuntuDocker
```

## üì¶ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

1. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
   - –ù–∞–ª–∏—á–∏–µ WSL –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞
   - –£—Å—Ç–∞–Ω–æ–≤–∫—É Docker –≤ WSL

2. **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ—Ç –≤ Docker:**
   - –õ–æ–≥–∏–Ω–∏—Ç—Å—è –≤ GitHub Container Registry
   - –°–∫–∞—á–∏–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π –æ–±—Ä–∞–∑ `ghcr.io/yourusername/autonumbergame:latest`
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä AutoNumberGame Telegram Bot
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç Watchtower –¥–ª—è –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)

## üîÑ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

Watchtower –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–±—Ä–∞–∑–∞ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- –°–∫–∞—á–∏–≤–∞–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏
- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
- –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ –æ–±—Ä–∞–∑—ã

## üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

```bash
# –í–æ–π—Ç–∏ –≤ WSL
wsl -d UbuntuDocker

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –±–æ—Ç–∞
wsl -d UbuntuDocker docker logs autonumbergame

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ Watchtower
wsl -d UbuntuDocker docker logs watchtower-autonumber

# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
wsl -d UbuntuDocker docker ps

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
wsl -d UbuntuDocker docker restart autonumbergame

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ
wsl -d UbuntuDocker docker stop autonumbergame watchtower-autonumber
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä—É—á–Ω—É—é

```bash
# –í–æ–π—Ç–∏ –≤ WSL
wsl -d UbuntuDocker

# –°–∫–∞—á–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –æ–±—Ä–∞–∑
docker pull ghcr.io/yourusername/autonumbergame:latest

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker restart autonumbergame
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```
WSL (Ubuntu):
~/autonumbergame/
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ game_data.json  # –î–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏)
‚îî‚îÄ‚îÄ .docker/
    ‚îî‚îÄ‚îÄ watchtower-autonumber.json  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ GHCR
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- GitHub —Ç–æ–∫–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ WSL (–≤ —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Watchtower)
- Telegram —Ç–æ–∫–µ–Ω –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –î–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ volume –∏ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ—Ç –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## ‚ùì –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `wsl -d UbuntuDocker docker logs autonumbergame`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω: `wsl -d UbuntuDocker docker ps`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É –±–æ—Ç–∞ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –¥–ª—è Telegram API

### Watchtower –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `wsl -d UbuntuDocker docker logs watchtower-autonumber`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ GitHub —Ç–æ–∫–µ–Ω –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ `read:packages`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ–±—Ä–∞–∑ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –≤ GHCR –ø—Ä–∏ push –≤ main

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
wsl -d UbuntuDocker docker ps --filter "name=autonumber"

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
wsl -d UbuntuDocker docker stats autonumbergame --no-stream

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è Watchtower
wsl -d UbuntuDocker docker logs watchtower-autonumber --tail 20
```

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç–æ–∫–µ–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [Issues](https://github.com/yourusername/AutoNumberGame/issues) –ø—Ä–æ–µ–∫—Ç–∞
